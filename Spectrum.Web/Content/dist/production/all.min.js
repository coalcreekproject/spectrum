"use strict";function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Templates/Portal/PortalIndex",data:{pageTitle:"index"}})}function appCtrl(a,b,c,d){b.checkOne=!0,b.barProfileData=[5,6,7,2,0,4,2,4,5,7,2,4,12,11,4],b.barProfileOptions={type:"bar",barWidth:7,height:"30px",barColor:"#62cb31",negBarColor:"#53ac2a"},b.chartIncomeData=[{label:"line",data:[[1,10],[2,26],[3,16],[4,36],[5,32],[6,51]]}],b.chartIncomeOptions={series:{lines:{show:!0,lineWidth:0,fill:!0,fillColor:"#3497db"}},colors:["#3497db"],grid:{show:!1},legend:{show:!1}},b.dynamicTooltip="Hello, World!",b.htmlTooltip="I've been made <b>bold</b>!",b.dynamicTooltipText="Dynamic",b.dynamicPopover="Hello, World!",b.dynamicPopoverTitle="Title",b.totalItems=64,b.currentPage=4,b.setPage=function(a){b.currentPage=a},b.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],b.getLocation=function(b){return a.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:b,sensor:!1}}).then(function(a){return a.data.results.map(function(a){return a.formatted_address})})},b.rate=7,b.max=10,b.hoveringOver=function(a){b.overStar=a,b.percent=100*(a/this.max)},b.groups=[{title:"Dynamic Group Header - 1",content:"A wonderful serenity has taken possession of my entire soul, like these sweet mornings of spring which I enjoy with my whole heart. I am alone, and feel the charm of existence in this spot, which was created for the bliss of souls like mine. "},{title:"Dynamic Group Header - 2",content:"A wonderful serenity has taken possession of my entire soul, like these sweet mornings of spring which I enjoy with my whole heart. I am alone, and feel the charm of existence in this spot, which was created for the bliss of souls like mine. "}],b.oneAtATime=!0;var e=[[0,55],[1,48],[2,40],[3,36],[4,40],[5,60],[6,50],[7,51]],f=[[0,56],[1,49],[2,41],[3,38],[4,46],[5,67],[6,57],[7,59]];b.chartUsersData=[e,f],b.chartUsersOptions={series:{splines:{show:!0,tension:.4,lineWidth:1,fill:.4}},grid:{tickColor:"#f0f0f0",borderWidth:1,borderColor:"f0f0f0",color:"#6a6c6f"},colors:["#3199cb","#efefef"]},b.PieChart={data:[1,5],options:{fill:["#3497db","#edf0f5"]}},b.PieChart2={data:[226,360],options:{fill:["#3497db","#edf0f5"]}},b.PieChart3={data:[.52,1.561],options:{fill:["#3497db","#edf0f5"]}},b.PieChart4={data:[1,4],options:{fill:["#3497db","#edf0f5"]}},b.PieChart5={data:[226,134],options:{fill:["#3497db","#edf0f5"]}},b.PieChart6={data:[.52,1.041],options:{fill:["#3497db","#edf0f5"]}},b.BarChart={data:[5,3,9,6,5,9,7,3,5,2],options:{fill:["#dbdbdb","#62cb31"]}},b.LineChart={data:[5,9,7,3,5,2,5,3,9,6,5,9,4,7,3,2,9,8,7,4,5,1,2,9,5,4,7],options:{fill:"#62cb31",stroke:"#62cb31",width:64}},b.stanimation="bounceIn",b.runIt=!0,b.runAnimation=function(){b.runIt=!1,c(function(){b.runIt=!0},100)}}function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Templates/Community/CommunityIndex",data:{pageTitle:"index"}})}function communityController(){}function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Templates/FileManager/FileManagerIndex",data:{pageTitle:"index"}})}function fileManagerController(){}function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Templates/Help/Faq",data:{pageTitle:"index"}})}function helpController(){}function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Templates/Messages/MessagesIndex",data:{pageTitle:"index"}})}function fileManagerController(){}function organizationPositionParameters(){this.organizationId=null}function organizationPositionController(a,b,c,d,e,f){a.organizationId=e.organizationId,organizationPositionParameters.organizationId=a.organizationId,d.scope=a,a.data=f,f.getOrganizationPositions(a.organizationId).then(function(a){},function(){alert("Sorry! There was a problem loading organization positions.  Please try again later.")}),a.add=function(){d.open({templateUrl:"/Templates/Organization/addOrganizationPositionModal",controller:AddOrganizationPositionModalController})},a.edit=function(a){d.open({templateUrl:"/Templates/Organization/editOrganizationPositionModal",controller:EditOrganizationPositionModalController,resolve:{organizationPosition:function(){return angular.copy(a)}}})},a["delete"]=function(a){d.open({templateUrl:"/Templates/Organization/deleteOrganizationPositionModal",controller:DeleteOrganizationPositionModalController,resolve:{organizationPosition:function(){return angular.copy(a)}}})}}function AddOrganizationPositionModalController(a,b,c){a.ok=function(a){a.OrganizationId=organizationPositionParameters.organizationId,c.addOrganizationPositions(a).then(function(){b.close()},function(){alert("could not save organization position")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function EditOrganizationPositionModalController(a,b,c,d){a.organizationPosition=d,a.ok=function(){c.editOrganizationPositions(d).then(function(){},function(){alert("could not edit or update organization position")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function DeleteOrganizationPositionModalController(a,b,c,d){a.organizationPosition=d,a.ok=function(){c.deleteOrganizationPositions(d).then(function(){},function(){alert("could not delete organization position")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function organizationPositionFactory(a,b){var c=[],d=function(d){var e=b.defer();return a.get("/api/Positions/"+d).then(function(a){angular.copy(a.data,c),e.resolve(c)},function(){e.reject()}),e.promise},e=function(d){var e=b.defer();return a.post("/api/Positions",d).then(function(a){var b=a.data;c.splice(0,0,d),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/Positions/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].Id===b.Id){c[d].Name=b.Name,c[d].Description=b.Description;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/Positions/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].Id===b.Id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{organizationPositions:c,getOrganizationPositions:d,addOrganizationPositions:e,editOrganizationPositions:f,deleteOrganizationPositions:g}}function organizationProfileParameters(){this.organizationId=null}function organizationProfileController(a,b,c,d,e,f){a.organizationId=e.organizationId,organizationProfileParameters.organizationId=a.organizationId,d.scope=a,a.data=f,f.getOrganizationProfiles(a.organizationId).then(function(a){},function(){alert("Sorry! There was a problem loading organization profiles.  Please try again later.")}),a.add=function(){d.open({templateUrl:"/Templates/Organization/addOrganizationProfileModal",controller:AddOrganizationProfileModalController})},a.edit=function(a){d.open({templateUrl:"/Templates/Organization/EditOrganizationProfileModal",controller:EditOrganizationProfileModalController,resolve:{organizationProfile:function(){return angular.copy(a)}}})},a["delete"]=function(a){d.open({templateUrl:"/Templates/Organization/deleteOrganizationProfileModal",controller:DeleteOrganizationProfileModalController,resolve:{organizationProfile:function(){return angular.copy(a)}}})}}function AddOrganizationProfileModalController(a,b,c){a.ok=function(a){a.OrganizationId=organizationProfileParameters.organizationId,c.addOrganizationProfiles(a).then(function(){b.close()},function(){alert("could not save organization profile")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function EditOrganizationProfileModalController(a,b,c,d){a.organizationProfile=d,a.ok=function(){c.editOrganizationProfiles(d).then(function(){},function(){alert("could not edit or update organization profile")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function DeleteOrganizationProfileModalController(a,b,c,d){a.organizationProfile=d,a.ok=function(){c.deleteOrganizationProfiles(d).then(function(){},function(){alert("could not delete organization profile")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function organizationProfileFactory(a,b){var c=[],d=function(d){var e=b.defer();return a.get("/api/OrganizationProfiles/"+d).then(function(a){angular.copy(a.data,c),e.resolve(c)},function(){e.reject()}),e.promise},e=function(d){var e=b.defer();return a.post("/api/OrganizationProfiles",d).then(function(a){var b=a.data;c.splice(0,0,d),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/OrganizationProfiles/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].Id===b.Id){c[d].Default=b.Default,c[d].Name=b.Name,c[d].Description=b.Description,c[d].PrimaryContact=b.PrimaryContact,c[d].Phone=b.Phone,c[d].Fax=b.Fax,c[d].Email=b.Email,c[d].Country=b.Country,c[d].County=b.County,c[d].TimeZone=b.TimeZone,c[d].Language=b.Language,c[d].Notes=b.Notes;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/OrganizationProfiles/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<_organizations.length;d++)if(c[d].Id===b.Id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{organizationProfiles:c,getOrganizationProfiles:d,addOrganizationProfiles:e,editOrganizationProfiles:f,deleteOrganizationProfiles:g}}function organizationRoleParameters(){this.organizationId=null}function organizationRoleController(a,b,c,d,e,f){a.organizationId=e.organizationId,organizationRoleParameters.organizationId=a.organizationId,d.scope=a,a.data=f,f.getOrganizationRoles(a.organizationId).then(function(a){},function(){alert("Sorry! There was a problem loading organization roles.  Please try again later.")}),a.add=function(){d.open({templateUrl:"/Templates/Organization/addOrganizationRoleModal",controller:AddOrganizationRoleModalController})},a.edit=function(a){d.open({templateUrl:"/Templates/Organization/EditOrganizationRoleModal",controller:EditOrganizationRoleModalController,resolve:{organizationRole:function(){return angular.copy(a)}}})},a["delete"]=function(a){d.open({templateUrl:"/Templates/Organization/deleteOrganizationRoleModal",controller:DeleteOrganizationRoleModalController,resolve:{organizationRole:function(){return angular.copy(a)}}})}}function AddOrganizationRoleModalController(a,b,c){a.ok=function(a){a.OrganizationId=organizationRoleParameters.organizationId,c.addOrganizationRoles(a).then(function(){b.close()},function(){alert("could not save organization role")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function EditOrganizationRoleModalController(a,b,c,d){a.organizationRole=d,a.ok=function(){c.editOrganizationRoles(d).then(function(){},function(){alert("could not edit or update organization role")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function DeleteOrganizationRoleModalController(a,b,c,d){a.organizationRole=d,a.ok=function(){c.deleteOrganizationRoles(d).then(function(){},function(){alert("could not delete organization Role")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function organizationRoleFactory(a,b){var c=[],d=function(d){var e=b.defer();return a.get("/api/Roles/"+d).then(function(a){angular.copy(a.data,c),e.resolve(c)},function(){e.reject()}),e.promise},e=function(d){var e=b.defer();return a.post("/api/Roles",d).then(function(a){var b=a.data;c.splice(0,0,d),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/Roles/"+d.id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c[d].name=b.mame,c[d].description=b.description;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/Roles/"+d.id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{organizationRoles:c,getOrganizationRoles:d,addOrganizationRoles:e,editOrganizationRoles:f,deleteOrganizationRoles:g}}function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Templates/Organization/OrganizationIndex",data:{pageTitle:"index"}}).state("roles",{url:"/roles/:organizationId",templateUrl:"/Templates/Organization/OrganizationRoles",data:{pageTitle:"roles"}}).state("profiles",{url:"/profiles/:organizationId",templateUrl:"/Templates/Organization/OrganizationProfiles",params:{organizationId:null},data:{pageTitle:"profiles"}}).state("positions",{url:"/positions/:organizationId",templateUrl:"/Templates/Organization/OrganizationPositions",params:{organizationId:null},data:{pageTitle:"positions"}})}function organizationController(a,b,c,d,e){c.scope=a,a.data=e,e.getOrganizations().then(function(a){},function(){alert("Sorry! There was a problem loading organizations.  Please try again later.")}),a.add=function(){c.open({templateUrl:"/Templates/Organization/addOrganizationModal",controller:AddOrganizationModalController})},a.edit=function(a){c.open({templateUrl:"/Templates/Organization/editOrganizationModal",controller:EditOrganizationModalController,resolve:{organization:function(){return angular.copy(a)}}})},a["delete"]=function(a){c.open({templateUrl:"/Templates/Organization/deleteOrganizationModal",controller:DeleteOrganizationModalController,resolve:{organization:function(){return angular.copy(a)}}})},a.profiles=function(a){d.go("profiles",{organizationId:a.id})},a.roles=function(a){d.go("roles",{organizationId:a.id})},a.positions=function(a){d.go("positions",{organizationId:a.id})}}function AddOrganizationModalController(a,b,c){a.ok=function(a){c.addOrganizations(a).then(function(){b.close()},function(){alert("could not save organization")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function EditOrganizationModalController(a,b,c,d){a.organization=d,a.ok=function(){c.editOrganizations(d).then(function(){},function(){alert("could not edit or update organization")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function DeleteOrganizationModalController(a,b,c,d){a.organization=d,a.ok=function(){c.deleteOrganizations(d).then(function(){},function(){alert("could not delete organization")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function organizationFactory(a,b){var c=[],d=function(){var d=b.defer();return a.get("/api/Organizations").then(function(a){angular.copy(a.data,c),d.resolve(c)},function(){d.reject()}),d.promise},e=function(d){var e=b.defer();return a.post("/api/Organizations",d).then(function(a){var b=a.data;c.splice(0,0,b),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/Organizations/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c[d].name=b.name,c[d].typeId=b.typeId;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/Organizations/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{organizations:c,getOrganizations:d,addOrganizations:e,editOrganizations:f,deleteOrganizations:g}}function userPositionParameters(){this.userId=null,this.organizationId=null}function UserPositionsModalController(a,b,c,d){a.userId=d.id,userPositionParameters.userId=a.userId,a.user=d,a.models={selected:null,lists:{Available:[],Assigned:[]}};for(var e=0;e<d.userProfiles.length;++e)d.userProfiles[e]["default"]===!0&&(userPositionParameters.organizationId=d.userProfiles[e].organizationId);a.data=c,c.getAvailablePositions(userPositionParameters.organizationId).then(function(b){a.availablePositions=b;for(var c=0;c<a.availablePositions.length;++c)a.models.lists.Available.push({label:a.availablePositions[c].name,object:a.availablePositions[c]})},function(){alert("could not get available positions")}),c.getUserPositions(userPositionParameters.userId).then(function(b){a.userPositions=b;for(var c=0;c<a.userPositions.length;++c){a.models.lists.Assigned.push({label:a.userPositions[c].name,object:a.userPositions[c]});for(var d=0;d<a.models.lists.Available.length;)a.userPositions[c].positionId===a.models.lists.Available[d].object.positionId&&a.models.lists.Available.splice(d,1),d++}},function(){alert("could not get user positions")}),a.ok=function(){c.editUserPositions(a.models.lists.Assigned,a.user).then(function(){b.close()},function(){alert("could not save positions")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function userPositionFactory(a,b){var c=[],d=[],e=function(d){var e=b.defer();return a.get("/api/Positions/"+d).then(function(a){angular.copy(a.data,c),e.resolve(c)},function(){e.reject()}),e.promise},f=function(c){var e=b.defer();return a.get("/api/UserPositions/"+c).then(function(a){angular.copy(a.data,d),e.resolve(d)},function(){e.reject()}),e.promise},g=function(c,d){d.UserPositions=[];for(var e=0;e<c.length;e++){var f={UserId:d.Id,PositionId:c[e].object.positionId,OrganizationId:userPositionParameters.organizationId,Default:c[e]["default"]};d.UserPositions.push(f)}var g=b.defer();return a.put("/api/UserPositions/",d).then(function(a){g.resolve(a)},function(){g.reject()}),g.promise};return{availablePositions:c,getAvailablePositions:e,userPositions:d,getUserPositions:f,editUserPositions:g}}function userRoleParameters(){this.userId=null,this.organizationId=null}function UserRolesModalController(a,b,c,d){a.userId=d.id,userRoleParameters.userId=a.userId,a.user=d,a.models={selected:null,lists:{Available:[],Assigned:[]}};for(var e=0;e<d.userOrganizations.length;++e)d.userOrganizations[e]["default"]===!0?userRoleParameters.organizationId=d.userOrganizations[e].organizationId:d.userOrganizations.length>0&&(userRoleParameters.organizationId=d.userOrganizations[0].organizationId);a.data=c,c.getAvailableRoles(userRoleParameters.organizationId).then(function(b){a.availableRoles=b;for(var c=0;c<a.availableRoles.length;++c)a.models.lists.Available.push({label:a.availableRoles[c].name,object:a.availableRoles[c]})},function(){alert("could not get available roles")}),c.getUserRoles(userRoleParameters.userId).then(function(b){a.userRoles=b;for(var c=0;c<a.userRoles.length;++c){a.models.lists.Assigned.push({label:a.userRoles[c].name,Default:a.userRoles[c]["default"],object:a.userRoles[c]});for(var d=0;d<a.models.lists.Available.length;)a.userRoles[c].roleId===a.models.lists.Available[d].object.roleId&&a.models.lists.Available.splice(d,1),d++}},function(){alert("could not get user roles")}),a.ok=function(){c.editUserRoles(a.models.lists.Assigned,a.user).then(function(){b.close()},function(){alert("could not save roles")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function userRoleFactory(a,b){var c=[],d=[],e=function(d){var e=b.defer();return a.get("/api/Roles/"+d).then(function(a){angular.copy(a.data,c),e.resolve(c)},function(){e.reject()}),e.promise},f=function(c){var e=b.defer();return a.get("/api/UserRoles/"+c).then(function(a){angular.copy(a.data,d),e.resolve(d)},function(){e.reject()}),e.promise},g=function(c,d){d.UserRoles=[];for(var e=0;e<c.length;e++){var f={UserId:d.id,RoleId:c[e].object.roleId,OrganizationId:userRoleParameters.organizationId,Default:c[e]["default"]};d.UserRoles.push(f)}var g=b.defer();return a.put("/api/UserRoles/",d).then(function(a){g.resolve(a)},function(){g.reject()}),g.promise};return{availableRoles:c,getAvailableRoles:e,userRoles:d,getUserRoles:f,editUserRoles:g}}function userProfileParameters(){this.userId=null}function userProfileController(a,b,c,d,e,f){a.userId=e.userId,userProfileParameters.userId=a.userId,d.scope=a,a.data=f,f.getUserProfiles(a.userId).then(function(a){},function(){alert("could not load user profiles")}),a.add=function(){d.open({templateUrl:"/Templates/User/AddUserProfileModal",controller:AddUserProfileModalController})},a.edit=function(a){d.open({templateUrl:"/Templates/User/EditUserProfileModal",controller:EditUserProfileModalController,resolve:{userProfile:function(){return angular.copy(a)}}})},a["delete"]=function(a){d.open({templateUrl:"/Templates/User/DeleteUserProfileModal",controller:DeleteUserProfileModalController,resolve:{userProfile:function(){return angular.copy(a)}}})}}function AddUserProfileModalController(a,b,c){a.ok=function(a){a.UserId=userProfileParameters.userId,c.addUserProfile(a).then(function(){b.close()},function(){alert("could not save the profile.")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function EditUserProfileModalController(a,b,c,d){a.userProfile=d,a.ok=function(){c.editUserProfile(d).then(function(){},function(){alert("could not edit or update profile")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function DeleteUserProfileModalController(a,b,c,d){a.userProfile=d,a.ok=function(){c.deleteUserProfile(d).then(function(){},function(){alert("could not delete profile")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function userProfileFactory(a,b){var c=[],d=function(d){var e=b.defer();return a.get("/api/UserProfiles/"+d).then(function(a){angular.copy(a.data,c),e.resolve(c)},function(){e.reject()}),e.promise},e=function(d){var e=b.defer();return a.post("/api/UserProfiles",d).then(function(a){var b=a.data;c.splice(0,0,b),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/UserProfiles/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c[d].userId=b.userId,c[d].organizationId=b.organizationId,c[d]["default"]=b["default"],c[d].profileName=b.profileName,c[d].title=b.title,c[d].firstName=b.firstName,c[d].fiddleName=b.fiddleName,c[d].lastName=b.lastName,c[d].nickName=b.nickName,c[d].secondaryEmail=editedUserProfilesecondaryEmail,c[d].secondaryPhoneNumber=b.secondaryPhoneNumber,c[d].timeZone=b.timeZone,c[d].dstAdjust=b.dstAdjust,c[d].language=b.language,c[d].photo=b.photo,c[d].position=b.position;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/UserProfiles/"+d.id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{userProfiles:c,getUserProfiles:d,addUserProfile:e,editUserProfile:f,deleteUserProfile:g}}function config(a,b,c,d){d.debugInfoEnabled(!0),b.state("index",{url:"",templateUrl:"/Templates/User/UserPanelIndex",data:{pageTitle:"index"}}).state("grid",{url:"/grid",templateUrl:"/Templates/User/UserGridIndex",params:{userId:null},data:{pageTitle:"grid"}}).state("userprofiles",{url:"/profiles/:userId",templateUrl:"/Templates/User/UserProfileIndex",params:{userId:null},data:{pageTitle:"profiles"}})}function userPanelController(a,b,c,d,e){c.scope=a,a.data=e,e.getUsers().then(function(a){},function(){alert("Sorry!","There was a problem loading users.  Please try again later.","error")}),a.add=function(){c.open({templateUrl:"/Templates/User/AddUserModal",controller:AddUserModalController})},a.edit=function(a){c.open({templateUrl:"/Templates/User/EditUserModal",controller:EditUserModalController,resolve:{user:function(){return angular.copy(a)}}})},a["delete"]=function(a){c.open({templateUrl:"/Templates/User/DeleteUserModal",controller:DeleteUserModalController,resolve:{user:function(){return angular.copy(a)}}})},a.roles=function(a){c.open({templateUrl:"/Templates/User/AssignUserRolesModal",controller:UserRolesModalController,resolve:{user:function(){return angular.copy(a)}}})},a.positions=function(a){c.open({templateUrl:"/Templates/User/AssignUserPositionsModal",controller:UserPositionsModalController,resolve:{user:function(){return angular.copy(a)}}})},a.userprofiles=function(a){d.go("userprofiles",{userId:a.id})}}function AddUserModalController(a,b,c){a.ok=function(a){c.addUser(a).then(function(){b.close()},function(){alert("could not save user")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function EditUserModalController(a,b,c,d){a.user=d,a.ok=function(){c.editUser(d).then(function(){},function(){alert("could not edit or update user")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function DeleteUserModalController(a,b,c,d){a.user=d,a.ok=function(){c.deleteUser(d).then(function(){},function(){alert("could not delete user")}),b.close()},a.cancel=function(){b.dismiss("cancel")}}function userFactory(a,b){var c=[],d=function(){var d=b.defer();return a.get("/api/Users").then(function(a){angular.copy(a.data,c),d.resolve(c)},function(){d.reject()}),d.promise},e=function(d){var e=b.defer();return a.post("/api/Users",d).then(function(a){var b=a.data;c.splice(0,0,b),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/Users/"+d.id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c[d].userName=b.userName,c[d].email=b.email;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/Users/"+d.id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].id===b.id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{users:c,getUsers:d,addUser:e,editUser:f,deleteUser:g}}function userGridController(a,b,c,d,e,f,g){a.data=g,a.usersGrid={enableHorizontalScrollbar:f.scrollbars.WHEN_NEEDED,enableVerticalScrollbar:f.scrollbars.WHEN_NEEDED,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,columnDefs:[{field:"Id",visible:!1},{field:"UserName"},{field:"Email"},{name:"Options",cellTemplate:'<button class="btn btn-sm btn-default" ng-click="grid.appScope.edit(row)">Edit</button><button class="btn btn-sm btn-default" ng-click="grid.appScope.userprofiles(row)">Profiles</button><button class="btn btn-sm btn-default" ng-click="grid.appScope.roles(row)">Roles</button><button class="btn btn-sm btn-default" ng-click="grid.appScope.positions(row)">Positions</button><button class="btn btn-sm btn-default" ng-click="grid.appScope.delete(row)">Delete</button>'}],onRegisterApi:function(b){a.gridApi=b}},g.getUsers().then(function(b){a.usersGrid.data=b},function(){alert("Sorry, there was a problem loading users.  Please try again later.")}),a.add=function(){d.open({templateUrl:"/Templates/User/AddUserModal",controller:AddUserModalController})},a.edit=function(a){d.open({templateUrl:"/Templates/User/editUserModal",controller:EditUserModalController,resolve:{user:function(){return angular.copy(a.entity)}}})},a["delete"]=function(a){d.open({templateUrl:"/Templates/User/deleteUserModal",controller:DeleteUserModalController,resolve:{user:function(){return angular.copy(a.entity)}}})},a.positions=function(a){d.open({templateUrl:"/Templates/User/AssignUserPositionsModal",controller:UserPositionsModalController,resolve:{user:function(){return angular.copy(a.entity)}}})},a.roles=function(a){d.open({templateUrl:"/Templates/User/AssignUserRolesModal",controller:UserRolesModalController,resolve:{user:function(){return angular.copy(a.entity)}}})},a.userprofiles=function(a){e.go("userprofiles",{userId:a.entity.Id})}}function pageTitle(a,b){return{link:function(c,d){var e=function(a,c,e,f,g){var h="Spectrum Operational | AngularJS Responsive WebApp";c.data&&c.data.pageTitle&&(h="Spectrum Operational | "+c.data.pageTitle),b(function(){d.text(h)})};a.$on("$stateChangeStart",e)}}}function sideNavigation(a){return{restrict:"A",link:function(a,b){b.metisMenu();var c=$('#side-menu a:not([href$="\\#"])');c.click(function(){$(window).width()<769&&$("body").toggleClass("show-sidebar")})}}}function minimalizaMenu(a){return{restrict:"EA",template:'<div class="header-link hide-menu" ng-click="minimalize()"><i class="fa fa-bars"></i></div>',controller:function(a,b){a.minimalize=function(){$(window).width()<769?$("body").toggleClass("show-sidebar"):$("body").toggleClass("hide-sidebar")}}}}function sparkline(){return{restrict:"A",scope:{sparkData:"=",sparkOptions:"="},link:function(a,b,c){a.$watch(a.sparkData,function(){d()}),a.$watch(a.sparkOptions,function(){d()});var d=function(){$(b).sparkline(a.sparkData,a.sparkOptions)}}}}function panelTools(a){return{restrict:"A",scope:!0,templateUrl:"/Templates/Common/panel_tools.html",controller:function(b,c){b.showhide=function(){var b=c.closest("div.hpanel"),d=c.find("i:first"),e=b.find("div.panel-body"),f=b.find("div.panel-footer");e.slideToggle(300),f.slideToggle(200),d.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),b.toggleClass("").toggleClass("panel-collapse"),a(function(){b.resize(),b.find("[id^=map-]").resize()},50)},b.closebox=function(){var a=c.closest("div.hpanel");a.remove()}}}}function smallHeader(){return{restrict:"A",scope:!0,controller:function(a,b){a.small=function(){var a=b.find("i:first"),c=b.find("#hbreadcrumb");b.toggleClass("small-header"),c.toggleClass("m-t-lg"),a.toggleClass("fa-arrow-up").toggleClass("fa-arrow-down")}}}}function animatePanel(a,b){return{restrict:"A",link:function(c,d,e){var f=0,g=.06,h=Math.abs(g)+f,i=b.current.name;e.effect||(e.effect="zoomIn"),g=e.delay?e.delay/10:.06,e.child?e.child="."+e.child:e.child=".row > div";var j=d.find(e.child);j.addClass("opacity-0");var k=j.length*g*1e3+700;a(function(){j=d.find(e.child),j.addClass("animated-panel").addClass(e.effect),j.each(function(a,b){h+=g;var c=Math.round(10*h)/10;$(b).css("animation-delay",c+"s"),$(b).removeClass("opacity-0")}),a(function(){i==b.current.name&&$(".animated-panel:not([ng-repeat]").removeClass(e.effect)},k)})}}}function landingScrollspy(){return{restrict:"A",link:function(a,b,c){b.scrollspy({target:".navbar-fixed-top",offset:80})}}}function config(a,b,c){c.debugInfoEnabled(!0),a.state("index",{url:"",templateUrl:"/Eoc/Templates/CheckList/CheckListIndex",data:{pageTitle:"index"}})}function userRoleParameters(){this.userId=null,this.organizationId=null}function CheckListsController(a){a.remove=function(a){a.remove()},a.toggle=function(a){a.toggle()},a.moveLastToTheBeginning=function(){var b=a.data.pop();a.data.splice(0,0,b)},a.newSubItem=function(a){var b=a.$modelValue;b.nodes.push({id:10*b.id+b.nodes.length,title:b.title+"."+(b.nodes.length+1),nodes:[]})},a.collapseAll=function(){a.$broadcast("collapseAll")},a.expandAll=function(){a.$broadcast("expandAll")},a.data=[{id:1,title:"node1",nodes:[{id:11,title:"node1.1",nodes:[{id:111,title:"node1.1.1",nodes:[]}]},{id:12,title:"node1.2",nodes:[]}]},{id:2,title:"node2",nodes:[{id:21,title:"node2.1",nodes:[]},{id:22,title:"node2.2",nodes:[]}]},{id:3,title:"node3",nodes:[{id:31,title:"node3.1",nodes:[]}]}]}function sweetAlert(a,b){var c=b.swal;return{swal:function(b,d,e){a(function(){"function"==typeof d?c(b,function(b){a(function(){d(b)})},e):c(b,d,e)},200)},success:function(b,d){a(function(){c(b,d,"success")},200)},error:function(b,d){a(function(){c(b,d,"error")},200)},warning:function(b,d){a(function(){c(b,d,"warning")},200)},info:function(b,d){a(function(){c(b,d,"info")},200)}}}function propsFilter(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){d=!0;break}}d&&c.push(a)}):c=a,c}}!function(){angular.module("app",["app.core","app.data","app.eoc"])}(),angular.module("app").controller("appCtrl",appCtrl).config(config),angular.module("app").controller("CommunityController",communityController).config(config),function(){angular.module("app.core",["ngSanitize","ngAnimate","ngTouch","ui.router","ui.bootstrap","angular-flot","angles","angular-peity","cgNotify","ui.map","ui.tree","xeditable","ui.select","ui.sortable","ui.grid","ui.grid.selection","dndLists"]);
}(),angular.module("app").controller("FileManagerController",fileManagerController).config(config),angular.module("app").controller("HelpController",helpController).config(config),angular.module("app").controller("FileManagerController",fileManagerController).config(config),angular.module("app").controller("OrganizationPositionController",organizationPositionController),angular.module("app").factory("organizationPositionFactory",organizationPositionFactory),angular.module("app").controller("OrganizationProfileController",organizationProfileController),angular.module("app").factory("organizationProfileFactory",organizationProfileFactory),angular.module("app").controller("OrganizationRoleController",organizationRoleController),angular.module("app").factory("organizationRoleFactory",organizationRoleFactory),angular.module("app").controller("OrganizationController",organizationController).config(config),angular.module("app").factory("organizationFactory",organizationFactory),function(){function a(a,c,d,e){function f(){g()}function g(){e.getCurrentUser().then(function(b){a.currentUser=b},function(){alert("Sorry! There was a problem loading the current user.  Please try again later.","error")})}function h(){var c=d.open({templateUrl:"/Templates/Portal/ChangeUserFocusModal",controller:b,resolve:{currentUser:function(){return a.currentUser}}});c.result["finally"](function(){g()})}a.currentUser={},a.changeFocus=h,f()}function b(a,b,c,d,e){a.currentUser=e,a.organizations=e.userOrganizations,a.roles=e.userRoles,a.positions=e.userPositions,a.ok=function(a){d.editCurrentUser(a).then(function(){c.close()},function(){alert("Sorry! There was a problem setting the identity focus.  Please try again later.","error")})},a.cancel=function(){c.dismiss("cancel")}}angular.module("app").controller("identityFocusController",a),a.$inject=["$scope","$http","$uibModal","currentUserFactory"],b.$inject=["$scope","$http","$uibModalInstance","currentUserFactory","currentUser"]}(),angular.module("app").controller("UserPositionsModalController",UserPositionsModalController),angular.module("app").factory("userPositionFactory",userPositionFactory),angular.module("app").controller("UserRolesModalController",UserRolesModalController),angular.module("app").factory("userRoleFactory",userRoleFactory),angular.module("app").controller("UserProfileController",userProfileController).service("UserProfileParameters",userProfileParameters),angular.module("app").factory("userProfileFactory",userProfileFactory),angular.module("app").controller("UserPanelController",userPanelController).config(config),angular.module("app").factory("userFactory",userFactory),angular.module("app").controller("UserGridController",userGridController),function(){function a(a,b){var c={Id:null,UserName:null,Email:null,SelectedOrganizationId:null,SelectedOrganizationName:null,SelectedRoleId:null,SelectedRoleName:null,SelectedPositionId:null,SelectedPositionName:null,UserOrganizations:null,UserRoles:null,UserProfiles:null,UserPositions:null},d=function(){var d=b.defer();return a.get("/api/IdentityFocus/").then(function(a){angular.copy(a.data,c),d.resolve(c)},function(){d.reject()}),d.promise},e=function(c){var d=b.defer();return a.put("/api/IdentityFocus/",c).then(function(a){var b=a.data;d.resolve(b)},function(){d.reject()}),d.promise};return{currentUser:c,getCurrentUser:d,editCurrentUser:e}}angular.module("app.data").factory("currentUserFactory",a),a.$inject=["$http","$q"]}(),function(){angular.module("app.data",[])}(),function(){function a(a,b){var c="/Eoc/api/Incidents",d=[],e=function(){var e=b.defer();return a.get(c).then(function(a){angular.copy(a.data,d),e.resolve(d)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.post(c,d).then(function(a){e.resolve(a)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer(),f={id:d.id,incidentName:d.name,level:d.selectedLevel,status:d.selectedStatus,type:d.selectedType.name};return a.put(c,f).then(function(a){e.resolve(a)},function(){e.reject()}),e.promise},h=function(d){var e=b.defer();return a["delete"](c+"/"+d).then(function(a){e.resolve(a)},function(){e.reject()}),e.promise},i=[{id:1,name:"Technological Hazard"},{id:2,name:"Natural Disaster"},{id:3,name:"Fast Food Hazard"}],j=function(){return i},k=[1,2,3,4,5],l=function(){return k},m=["Active","Inactive","Just Fucking Around"],n=function(){return m};return{getIncidents:e,addIncident:f,editIncident:g,deleteIncident:h,getIncidentTypes:j,getIncidentLevels:l,getIncidentStatuses:n}}angular.module("app.data").service("incidentData",a),a.$inject=["$http","$q"]}(),function(){function a(a,b){var c=[],d=function(){var d=b.defer();return a.get("/api/Users").then(function(a){angular.copy(a.data,c),d.resolve(c)},function(){d.reject()}),d.promise},e=function(d){var e=b.defer();return a.post("/api/Users",d).then(function(a){var b=a.data;c.splice(0,0,b),e.resolve(b)},function(){e.reject()}),e.promise},f=function(d){var e=b.defer();return a.put("/api/Users/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].Id===b.Id){c[d].UserName=b.UserName,c[d].Email=b.Email;break}e.resolve(b)},function(){e.reject()}),e.promise},g=function(d){var e=b.defer();return a["delete"]("/api/Users/"+d.Id,d).then(function(a){for(var b=a.data,d=0;d<c.length;d++)if(c[d].Id===b.Id){c.splice(d,1);break}e.resolve()},function(){e.reject()}),e.promise};return{users:c,getUsers:d,addUser:e,editUser:f,deleteUser:g}}angular.module("app.data").service("UserData",a),a.$inject=["$http","$q"]}(),angular.module("app").directive("pageTitle",pageTitle).directive("sideNavigation",sideNavigation).directive("minimalizaMenu",minimalizaMenu).directive("sparkline",sparkline).directive("panelTools",panelTools).directive("smallHeader",smallHeader).directive("animatePanel",animatePanel).directive("landingScrollspy",landingScrollspy),function(){function a(){return{restrict:"E",replace:!0,template:'<div class="spinner"><div class="cube1"></div> <div class="cube2"></div></div>',link:function(a,b){a.$watch("loading",function(a){a?$(b).show():$(b).hide()})}}}angular.module("app").directive("loading",a)}(),function(){function a(a){return{restrict:"EA",template:'<div class="header-link hide-menu" ng-click="minimalize()"><i class="fa fa-bars"></i></div>',controller:function(a,b){a.minimalize=function(){$(window).width()<769?$("body").toggleClass("show-sidebar"):$("body").toggleClass("hide-sidebar")}}}}angular.module("app.core").directive("minimalizaMenu",a),a.$inject=["$rootScope"]}(),function(){function a(a,b){return{link:function(c,d){var e=function(a,c,e,f,g){var h="Spectrum Operational | AngularJS Responsive WebApp";c.data&&c.data.pageTitle&&(h="Spectrum Operational | "+c.data.pageTitle),b(function(){d.text(h)})};a.$on("$stateChangeStart",e)}}}angular.module("app.core").directive("pageTitle",a),a.$inject=["$rootScope","$timeout"]}(),function(){function a(){return{restrict:"A",scope:{spinOptions:"="},link:function(a,b,c){a.$watch(a.spinOptions,function(){d()});var d=function(){$(b).TouchSpin(a.spinOptions)}}}}angular.module("app.core").directive("touchSpin",a)}(),angular.module("app.eoc").controller("CheckListsController",CheckListsController).config(config),function(){function a(){var a=this;a.name="Sean"}angular.module("app.eoc").controller("EocDashboardCtrl",a)}(),function(){angular.module("app.eoc",[])}(),function(){function a(a,b,c,d){d.debugInfoEnabled(!0),b.state("index",{url:"",templateUrl:"/Eoc/Templates/IncidentManagement/IncidentManagementIndex",controller:"IncidentMgmtCtrl",controllerAs:"im"})}function b(a,b,d){function e(){n.search=""}function f(){var a=d.open({templateUrl:c+"IncidentManagementAddModal",controller:k});a.result["finally"](function(){j()})}function g(a){var b=d.open({templateUrl:c+"IncidentManagementEditModal",controller:l,resolve:{incidentModalData:function(){return a}}});b.result["finally"](function(){j()})}function h(a){var b=d.open({templateUrl:c+"IncidentManagementDeleteModal",controller:m,resolve:{incidentModalData:function(){return a}}});b.result["finally"](function(){j()})}function i(){return j()}function j(){return a.loading=!0,b.getIncidents().then(function(b){n.incidents=b,a.loading=!1},function(){a.loading=!1,console.log("Error loading incidents.  See log.")})}function k(a,b,c){a.debugEnabled=!1,a.incident={name:"",selectedType:{id:2,name:"Natural Disaster"},incidentTypes:c.getIncidentTypes(),selectedLevel:null,incidentLevels:c.getIncidentLevels()},a.saveChanges=function(a){var d={userId:null,organizationId:null,incidentName:a.name,type:a.selectedType.name,level:a.selectedLevel,status:"Active"};c.addIncident(d).then(function(){b.close()},function(a){console.log(a.message)})},a.close=function(){b.dismiss("cancel")}}function l(a,b,c,d){function e(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c];return-1}var f=d.getIncidentTypes(),g=e(f,c.type);a.incident={id:c.id,incidentTypes:f,incidentLevels:d.getIncidentLevels(),statuses:d.getIncidentStatuses(),name:c.incidentName,selectedLevel:c.level.toString(),organizationId:c.organizationId,selectedStatus:c.status,selectedType:g,userId:c.userId},a.close=function(){b.dismiss("cancel")},a.saveChanges=function(a){d.editIncident(a).then(function(){b.close()},function(a){console.log(a.message)})}}function m(a,c,d){a.incidentId=d.id,a.incidentName=d.incidentName,a.cancel=function(){c.dismiss("cancel")},a["delete"]=function(a){b.deleteIncident(a).then(function(){c.close()},function(a){console.log(a.message)})}}var n=this;n.name="Sean",n.incidents=[],n.search="",n.clear=e,n.openModal=f,n.editModal=g,n.deleteModal=h,i(),k.$inject=["$scope","$uibModalInstance","incidentData"],l.$inject=["$scope","$uibModalInstance","incidentModalData","incidentData"],m.$inject=["$scope","$uibModalInstance","incidentModalData"]}var c="Eoc/Templates/IncidentManagement/";angular.module("app.eoc").controller("IncidentMgmtCtrl",b).config(a),b.$inject=["$scope","incidentData","$uibModal"]}(),angular.module("app").factory("sweetAlert",sweetAlert),angular.module("app").filter("propsFilter",propsFilter);